<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ddocdoc.mapper.ReviewMapper"> 
	<cache />
	
	<!--리뷰 등록-->
	<insert id="reviewInsert" parameterType="ReviewVO">
		insert into dd_review (rv_num, rv_title, rv_writer, rv_content, rv_date, rv_count, cus_num)
		values (
		'R00' || review_seq.nextval
		, #{rv_title, jdbcType=VARCHAR}
		, #{rv_writer, jdbcType=VARCHAR}
		, #{rv_content, jdbcType=VARCHAR}
		, sysdate
		, 0
		, 'C002')
	</insert>
	
	<!--리뷰 상세-->
	<select id="reviewDetail" resultType="ReviewVO" parameterType="string">
		select*from dd_review
		where rv_num = #{rv_num}
	</select>
	
	 <!-- 조회 수 증가 -->
  <!--  <update id="increaseHits" parameterType="String" >
      update dd_review set rv_count = rv_count +1
      where rv_num = #{rv_num}
   </update> -->
	
	<!--리뷰 리스트 -->
	<select id="reviewList" resultType="ReviewVO">
		select*from dd_review
	</select>
	
	<!--리뷰 수정  -->
	<update id="reviewUpdate" parameterType="ReviewVO">
		update dd_review
		set rv_title = #{rv_title, jdbcType=VARCHAR}, rv_writer =#{rv_writer, jdbcType=VARCHAR}, rv_content = #{rv_content, jdbcType=VARCHAR}
		where rv_num = #{rv_num}	
	</update>
	
	<!--리뷰 삭제-->
	<delete id="reviewDelete" parameterType="String">
		delete from dd_review
		where rv_num = #{rv_num}
	</delete>
	
	

</mapper>